@{
    ViewData["Title"] = "Ayuda y Soporte üêæ";
    Layout = null;
    var tema = ViewBag.Tema ?? Context.Session.GetString("Tema") ?? "claro";
}

<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>@ViewData["Title"]</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />

<style>
:root {
  --verde: #3ac37d;
  --amarillo: #FFD85A;
  --marron: #4B3B2B;
  --rojo: #e74c3c;
  --fondo-claro: #f9f9f8;
}

/* ===== GENERAL ===== */
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  transition: background .4s ease, color .4s ease;
}

body.tema-claro {
  background: url('/img/fondos/bosque.png') center center / cover no-repeat fixed;
  color: var(--marron);
}

body.tema-oscuro {
  background: url('/img/fondos/bosque.png') center center / cover no-repeat fixed;
  background-color: rgba(0, 0, 0, 0.5);
  background-blend-mode: overlay;
  filter: brightness(0.6);
  color: #ffffff;
}

/* ===== HEADER ===== */
header {
  position: fixed;
  top: 15px;
  left: 20px;
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.menu-icon {
  width: 38px;
  height: 38px;
  cursor: pointer;
  transition: transform .25s ease, filter .3s ease;
  filter: brightness(0);
}
body.tema-oscuro .menu-icon {
  filter: brightness(0) invert(1);
}
.menu-icon:hover { transform: scale(1.1); }


/* ===== MENU LATERAL ===== */
.menu-lateral {
  position: fixed;
  top: 0;
  left: 0;
  transform: translateX(-100%);
  width: 240px;
  height: 100%;
  backdrop-filter: blur(12px);
  box-shadow: 4px 0 12px rgba(0,0,0,0.15);
  display: flex;
  flex-direction: column;
  padding: 2.5rem 1.2rem;
  gap: 1rem;
  transition: transform .35s ease, background .4s ease, color .4s ease;
  z-index: 999;
  border-right: none;
}
body.tema-claro .menu-lateral {
  background: rgba(255, 255, 255, 0.97);
}
body.tema-oscuro .menu-lateral {
  background: rgba(30, 30, 30, 0.97);
  box-shadow: 4px 0 12px rgba(0, 0, 0, 0.5);
}
.menu-lateral.abierto { transform: translateX(0); }

.menu-lateral a {
  text-decoration: none;
  font-weight: 600;
  font-size: 1.1rem;
  padding: 0.6rem 0.8rem;
  border-radius: 12px;
  transition: all .25s ease;
  color: inherit;
}
body.tema-claro .menu-lateral a {
  color: var(--marron);
}
body.tema-oscuro .menu-lateral a {
  color: #ffffff;
}
body.tema-claro .menu-lateral a:hover {
  background: var(--amarillo);
  color: #3c2a00;
}
body.tema-oscuro .menu-lateral a:hover {
  background: var(--verde);
  color: #ffffff;
}

.cerrar-menu {
  align-self: flex-end;
  font-size: 1.6rem;
  cursor: pointer;
  margin-bottom: 1.5rem;
  transition: transform 0.2s ease;
  color: inherit;
}
body.tema-claro .cerrar-menu {
  color: var(--marron);
}
body.tema-oscuro .cerrar-menu {
  color: #ffffff;
}
.cerrar-menu:hover {
  transform: scale(1.2);
}

.overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.45);
  opacity: 0;
  pointer-events: none;
  transition: opacity .3s ease;
  z-index: 998;
}
.overlay.activo { opacity: 1; pointer-events: auto; }

/* ===== MAIN ===== */
main {
  margin: 80px auto 15px auto;
  max-width: 480px;
  width: 100%;
  padding: 0 12px 25px 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

h1 {
  text-align: center;
  color: inherit;
  font-size: 1.3rem;
  font-weight: 700;
  margin: 0 0 12px 0;
}

/* ===== SECCIONES ===== */
section {
  border-radius: 14px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  width: 100%;
  padding: 0.9rem 0.9rem;
  margin-bottom: 10px;
  backdrop-filter: blur(10px);
  transition: background .4s ease, box-shadow .4s ease;
}

body.tema-claro section {
  background: rgba(255,255,255,0.95);
}

body.tema-oscuro section {
  background: rgba(30,30,30,0.95);
  box-shadow: 0 6px 18px rgba(0,0,0,0.5);
}

section h3 {
  font-size: 0.95rem;
  margin: 0 0 8px 0;
  font-weight: 600;
  color: inherit;
  border-bottom: 2px solid var(--verde);
  padding-bottom: 4px;
}

/* FAQ */
.faq-item {
  background: rgba(0,0,0,0.03);
  border: 1px solid rgba(0,0,0,0.1);
  border-radius: 8px;
  margin-bottom: 5px;
  overflow: hidden;
  transition: all .2s ease;
}

body.tema-oscuro .faq-item {
  background: rgba(255,255,255,0.05);
  border-color: rgba(255,255,255,0.1);
}

.faq-item:hover {
  background: rgba(0,0,0,0.05);
  transform: translateX(3px);
}

body.tema-oscuro .faq-item:hover {
  background: rgba(255,255,255,0.08);
}

.faq-question {
  padding: 8px 10px;
  cursor: pointer;
  font-weight: 600;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background .2s ease;
  color: inherit;
  font-size: 0.85rem;
}

.faq-question:hover {
  background: rgba(57,183,124,0.15);
}

.faq-answer {
  padding: 0 10px 8px 10px;
  display: none;
  font-size: 0.8rem;
  color: inherit;
  opacity: 0.9;
  line-height: 1.4;
}

/* FORMULARIO */
form {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form-group {
  margin-bottom: 10px;
}

.form-group label {
  display: block;
  font-weight: 600;
  margin-bottom: 5px;
  color: inherit;
  font-size: 0.85rem;
}

input, textarea {
  width: 100%;
  border-radius: 8px;
  border: 2px solid rgba(0,0,0,0.1);
  padding: 7px 10px;
  font-size: 0.85rem;
  font-family: 'Poppins', sans-serif;
  outline: none;
  resize: none;
  box-sizing: border-box;
  transition: all .3s ease;
}

body.tema-claro input,
body.tema-claro textarea {
  background: white;
  color: var(--marron);
  border-color: rgba(0,0,0,0.1);
}

body.tema-oscuro input,
body.tema-oscuro textarea {
  background: rgba(40,40,40,0.8);
  color: #ffffff;
  border-color: rgba(255,255,255,0.1);
}

textarea { 
  min-height: 60px; 
}

input:focus, textarea:focus {
  border-color: var(--verde);
  box-shadow: 0 0 0 3px rgba(57, 195, 125, 0.1);
}

button {
  background: var(--verde);
  border: none;
  border-radius: 8px;
  padding: 9px 16px;
  color: white;
  font-weight: 600;
  cursor: pointer;
  transition: all .3s ease;
  font-family: 'Poppins', sans-serif;
  font-size: 0.85rem;
  width: 100%;
  margin-top: 5px;
}

button:hover { 
  background: #2fa66a; 
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(57, 195, 125, 0.3);
}

/* CONSEJOS */
.tip {
  background: rgba(58, 195, 125, 0.1);
  padding: 7px 10px;
  border-radius: 8px;
  margin-bottom: 5px;
  font-size: 0.8rem;
  border-left: 3px solid var(--verde);
  color: inherit;
  line-height: 1.4;
}

body.tema-oscuro .tip {
  background: rgba(58, 195, 125, 0.15);
}

/* MENSAJES */
.mensaje {
  padding: 8px 12px;
  border-radius: 8px;
  margin-bottom: 12px;
  font-size: 0.85rem;
  text-align: center;
  font-weight: 500;
}

.mensaje-exito {
  background: rgba(57, 195, 125, 0.2);
  color: #2d5a3d;
  border: 1px solid var(--verde);
}

body.tema-oscuro .mensaje-exito {
  background: rgba(57, 195, 125, 0.3);
  color: #a8e6c7;
}

.mensaje-error {
  background: rgba(255, 107, 107, 0.2);
  color: #8b0000;
  border: 1px solid #ff4444;
}

body.tema-oscuro .mensaje-error {
  background: rgba(255, 107, 107, 0.3);
  color: #ffcccc;
}

/* ANIMACIONES */
@@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-5px); }
  to { opacity: 1; transform: translateY(0); }
}

@@media (max-width: 600px) {
  main {
    padding: 0 15px 60px 15px;
  }
  section {
    padding: 1.5rem 1.3rem;
  }
  h1 {
    font-size: 1.6rem;
  }
}
</style>
</head>

<body class="tema-@tema">
<header>
  <img src="/img/icons/hamburger.png" alt="Men√∫" class="menu-icon" id="abrirMenu" />
</header>

<div class="menu-lateral" id="menuLateral">
  <div class="cerrar-menu" id="cerrarMenu">‚úñ</div>
  <a href="/Home/Index">üè† Inicio</a>
    <a href="/Home/Comunidad">üë• Comunidad</a>
  <a href="/Home/Planificador">üìÖ Planificador de Servicios</a>
  <a href="/Marketplace">üõí Marketplace</a>
  <a href="/Home/FichaMedica">üíâ Ficha m√©dica</a>
  <a href="/Home/Calendario">üìÖ Calendario</a>
  <a href="/Chat/ChatZooni">üí¨ ChatBot</a>
  <a href="/Home/Closet">üëï Closet</a>
  <a href="/Home/Perfil">üë§ Perfil</a>
  <a href="/Home/Configuracion">‚öôÔ∏è Configuraci√≥n</a>
  <a href="/Auth/Logout" style="color:red;">üö™ Cerrar sesi√≥n</a>
</div>
<div class="overlay" id="overlay"></div>

<main>
  <h1>Centro de Ayuda üê∂</h1>

  <section>
    <h3>Preguntas Frecuentes</h3>
    <div class="faq-item">
      <div class="faq-question">¬øC√≥mo registro una nueva mascota? <span>+</span></div>
      <div class="faq-answer">Pod√©s hacerlo desde ‚ÄúMis Mascotas‚Äù ‚Üí ‚ÄúAgregar nueva mascota‚Äù. Complet√° los datos y listo üêæ</div>
    </div>
    <div class="faq-item">
      <div class="faq-question">¬øPuedo cambiar el correo asociado? <span>+</span></div>
      <div class="faq-answer">S√≠, en ‚ÄúCuenta y Seguridad‚Äù pod√©s actualizar tu correo y contrase√±a.</div>
    </div>
    <div class="faq-item">
      <div class="faq-question">¬øC√≥mo elimino mi cuenta? <span>+</span></div>
      <div class="faq-answer">Desde ‚ÄúCuenta y Seguridad‚Äù, al final del formulario ten√©s la opci√≥n de eliminar tu cuenta permanentemente.</div>
    </div>
  </section>

  <section>
  <h3>Contactanos</h3>

  @if (TempData["Error"] != null)
  {
      <div class="mensaje mensaje-error">
          @TempData["Error"]
      </div>
  }

  @if (TempData["Exito"] != null)
  {
      <div class="mensaje mensaje-exito">
          @TempData["Exito"]
      </div>
  }

  <form method="post" action="/Home/EnviarSoporte">
    <input type="text" name="nombre" placeholder="Tu nombre" required />
    <input type="email" name="correo" placeholder="Tu correo" required />
    <input type="password" name="contrasena" placeholder="Tu contrase√±a" required />
    <textarea name="mensaje" placeholder="Contanos tu duda o problema..." required></textarea>
    <button type="submit">üì® Enviar mensaje</button>
  </form>
</section>


  </section>

  <section>
    <h3>Consejos √∫tiles</h3>
    <div class="tip">üí° Revis√° el calendario de tu mascota semanalmente para mantener sus vacunas y tratamientos al d√≠a.</div>
    <div class="tip">üêæ Guard√° los PDF m√©dicos desde la ficha de tu mascota para tener siempre su historial actualizado.</div>
    <div class="tip">üéØ Activ√° las notificaciones en ‚ÄúConfiguraci√≥n ‚Üí Notificaciones‚Äù para no perder citas importantes.</div>
  </section>
</main>

<script>
const menu = document.getElementById("menuLateral");
const overlay = document.getElementById("overlay");

document.getElementById("abrirMenu").onclick = () => {
  menu.classList.add("abierto");
  overlay.classList.add("activo");
};
document.getElementById("cerrarMenu").onclick = cerrarMenu;
overlay.onclick = cerrarMenu;

function cerrarMenu() {
  menu.classList.remove("abierto");
  overlay.classList.remove("activo");
}

// Acorde√≥n FAQ
document.querySelectorAll('.faq-question').forEach(q => {
  q.addEventListener('click', () => {
    const answer = q.nextElementSibling;
    const open = answer.style.display === 'block';
    document.querySelectorAll('.faq-answer').forEach(a => a.style.display = 'none');
    document.querySelectorAll('.faq-question span').forEach(s => s.textContent = '+');
    if (!open) {
      answer.style.display = 'block';
      q.querySelector('span').textContent = '‚àí';
    }
  });
});
</script>
</body>
</html>
